{{#if this.isEditingDetails}}
  <PageHeader>
    <:title>
      Wijzig proces
    </:title>
    <:action>
      <AuPill @icon="clock-rewind" @draft="true">Laatst aangepast op
        {{date-format this.process.modified true}}</AuPill>
    </:action>
  </PageHeader>
{{else}}
  <PageHeader>
    <:title>
      {{this.process.title}}
    </:title>
    <:action>
      <AuPill @icon="clock-rewind">Laatst aangepast op
        {{date-format this.process.modified true}}</AuPill>
    </:action>
  </PageHeader>
{{/if}}

<AuBodyContainer class="au-o-box au-o-flow" @scroll={{true}}>

  <Process::DetailsCard
    @canEdit={{this.canEdit}}
    @process={{this.process}}
    @setIsEditing={{this.setIsEditingDetails}}
  />

  <Process::Diagram::Visual
    @canEdit={{this.canEdit}}
    @process={{this.process}}
    @trackDownloadFileEvent={{this.trackDownloadFileEvent}}
  />

  {{#if (and this.process.isBlueprint this.process.isPublishedByAbbOrDv)}}
    <Process::IcrCard @canEdit={{this.canEdit}} @process={{this.process}} />
  {{else}}
    <Process::BlueprintCard
      @canEdit={{this.canEdit}}
      @process={{this.process}}
    />
  {{/if}}

  <Process::Diagram::Version
    @diagrams={{this.diagrams}}
    @latestDiagram={{this.latestDiagram}}
    @process={{this.process}}
    @diagramsAreLoading={{this.diagramsAreLoading}}
    @pageVersions={{this.pageVersions}}
    @sortVersions={{this.sortVersions}}
    @sizeVersions={{this.sizeVersions}}
    @diagramsHaveErrored={{this.diagramsHaveErrored}}
    @diagramsHaveNoResults={{this.diagramsHaveNoResults}}
    @trackDownloadEvent={{this.trackDownloadFileEvent}}
  />

  <Process::Attachments
    @canEdit={{this.canEdit}}
    @process={{this.process}}
    @trackDownloadEvent={{this.trackDownloadFileEvent}}
  />

</AuBodyContainer>