{{page-title "Diagrammen"}}

{{! template-lint-disable no-invalid-interactive }}
{{! template-lint-disable style-concatenation }}
{{! template-lint-disable no-inline-styles }}
<SidebarContainer>
  <:sidebar>
    <div class="au-c-sidebar au-o-box" style="min-width: 25vw">
      <div>
        <AuHeading @skin="5" class="au-u-muted au-u-margin-bottom-small">
          Versies
        </AuHeading>
        <div class="au-o-flow--tiny">
          {{#each @model.lists as |diagramList|}}
            <div
              {{on "click" (fn this.openDiagramList diagramList)}}
              class="au-u-flex au-u-flex--column au-u-padding au-u-padding-top-small au-u-padding-bottom-small"
              style="
               {{if
                (eq this.selectedDiagramList.id diagramList.id)
                'background-color: var(--au-select-text-bg);'
                'background-color: var(--au-white);'
              }} border-radius:5px;border:1.5px solid var(--au-gray-200); box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 4px; "
            >
              <div class="au-u-flex au-u-flex--column au-u-flex--between">
                <p class="au-u-h5">{{date-format diagramList.created true}}</p>
                <p class="au-u-muted">{{diagramList.displayVersion}}</p>
              </div>
            </div>
          {{/each}}
        </div>
      </div>
    </div>
  </:sidebar>
  <:content>
    <div class="au-o-box au-o-flow">
      {{#if this.showcasedMainDiagramFile}}
        <File::Viewer @file={{this.showcasedMainDiagramFile}} />
        <File::MetadataCard @file={{this.showcasedMainDiagramFile}} />
      {{/if}}
      <p class="au-u-h4 au-u-medium">Diagrammen</p>
      <DiagramList::Table
        @diagramList={{this.selectedDiagramList}}
        @onDiagramFileSelected={{this.openDiagramList}}
        @canEdit={{this.canEdit}}
      />
    </div>
  </:content>
</SidebarContainer>